<!DOCTYPE html>
<html>
<head>
    <title>Prototype Tests</title>

    <!-- include the testing framework -->
    <script src="../jsunity.js"></script>

    <!-- configure the testing framework -->
    <script>
        jsUnity.log = function (s) {
            document.write("<div>" + s + "</div>");
        };
        jsUnity.attachAssertions(jsUnity);

        (function() {

            function fmt(str) {
                var a = Array.prototype.slice.call(arguments, 1);
                return str.replace(/\?/g, function () { return a.shift(); });
            }

            jsUnity.assertArrayIdentical = function(expected, actual, message) {
                if (expected.length !== actual.length) {
                    throw fmt("?: (?) is not identical to (?)",
                        message || "assertArrayIdentical", actual, expected);
                }

                for (var i=0, ilen=expected.length; i<ilen; i++) {
                    if (((i in expected) && !(i in actual)) ||
                        ((i in actual) && !(i in expected)) ||
                        (expected[i] !== actual[i])) {
                        throw fmt("?: (?) is not identical to (?)",
                            message || "assertArrayIdentical", actual, expected);
                    }
                }

            };

        }());

    </script>

    <!-- load the source code to be tested -->
    <script src="../../src/prototype/subject.js"></script>
    <script src="../../src/prototype/set.js"></script>
    <script src="../../src/prototype/observableSet.js"></script>

    <!-- load the test suites to be run -->
    <script src="subjectSuite.js"></script>
    <script src="setSuite.js"></script>
    <script src="observableSetSuite.js"></script>

</head>
<body>

    <!-- run the test suites -->
    <script>

        jsUnity.run(
            subjectSuite,
            setSuite,
            observableSetSuite);

    </script>

</body>
</html>
